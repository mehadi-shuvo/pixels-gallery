{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/shuvo/Projects/image%20gallary/client/components/cards/ImageCard.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useRef, useEffect } from \"react\";\nimport Image from \"next/image\";\nimport { Card, CardContent, Typography, Box, Chip, Stack } from \"@mui/material\";\nimport {\n  Visibility,\n  FavoriteBorder,\n  Favorite,\n  Close,\n  ZoomIn,\n  ZoomOut,\n} from \"@mui/icons-material\";\n\nconst ImageCard = ({\n  src,\n  title,\n  views,\n  likes,\n}: {\n  src: string;\n  title: string;\n  views: number;\n  likes: number;\n}) => {\n  const [isLiked, setIsLiked] = useState(false);\n  const [isHovered, setIsHovered] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n  const [zoom, setZoom] = useState(1);\n  const modalRef = useRef<HTMLDivElement>(null);\n\n  // Close modal when clicking outside content\n  useEffect(() => {\n    const handleClickOutside = (e: MouseEvent) => {\n      if (modalRef.current && !modalRef.current.contains(e.target as Node)) {\n        setShowModal(false);\n        setZoom(1);\n      }\n    };\n\n    if (showModal) {\n      document.addEventListener(\"mousedown\", handleClickOutside);\n      document.body.style.overflow = \"hidden\";\n    }\n\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n      document.body.style.overflow = \"auto\";\n    };\n  }, [showModal]);\n\n  const toggleLike = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    setIsLiked(!isLiked);\n  };\n\n  const handleZoom = (direction: \"in\" | \"out\") => {\n    setZoom((prev) => {\n      if (direction === \"in\") return Math.min(prev + 0.25, 3);\n      return Math.max(prev - 0.25, 0.5);\n    });\n  };\n\n  return (\n    <>\n      {/* Image Card */}\n      <Card\n        onMouseEnter={() => setIsHovered(true)}\n        onMouseLeave={() => setIsHovered(false)}\n        sx={{\n          width: \"100%\",\n          maxWidth: 300,\n          borderRadius: \"12px\",\n          cursor: \"pointer\",\n          transition: \"transform 0.3s ease, box-shadow 0.3s ease\",\n          transform: isHovered ? \"translateY(-4px)\" : \"none\",\n          boxShadow: isHovered\n            ? \"0 10px 20px rgba(0,0,0,0.1)\"\n            : \"0 4px 8px rgba(0,0,0,0.1)\",\n          position: \"relative\",\n          overflow: \"hidden\",\n        }}\n        onClick={() => setShowModal(true)}\n      >\n        {/* Image with hover effect */}\n        <Box\n          sx={{\n            position: \"relative\",\n            width: \"100%\",\n            paddingBottom: \"100%\",\n            overflow: \"hidden\",\n          }}\n        >\n          <Image\n            src={src}\n            alt={title}\n            fill\n            style={{\n              objectFit: \"cover\",\n              transition: \"transform 0.5s ease\",\n              transform: isHovered ? \"scale(1.05)\" : \"scale(1)\",\n            }}\n          />\n\n          {isHovered && (\n            <Box\n              sx={{\n                position: \"absolute\",\n                inset: 0,\n                bgcolor: \"rgba(0,0,0,0.3)\",\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n              }}\n            >\n              <Typography\n                sx={{\n                  color: \"white\",\n                  bgcolor: \"rgba(0,0,0,0.5)\",\n                  px: 2,\n                  py: 1,\n                  borderRadius: 4,\n                }}\n              >\n                View Details\n              </Typography>\n            </Box>\n          )}\n        </Box>\n\n        {/* Card footer */}\n        <CardContent sx={{ p: 2 }}>\n          <Typography variant=\"h6\" noWrap>\n            {title}\n          </Typography>\n          <Stack direction=\"row\" spacing={1} sx={{ mt: 1 }}>\n            <Chip\n              icon={<Visibility />}\n              label={views}\n              size=\"small\"\n              variant=\"outlined\"\n            />\n            <Chip\n              icon={isLiked ? <Favorite color=\"error\" /> : <FavoriteBorder />}\n              label={likes + (isLiked ? 1 : 0)}\n              size=\"small\"\n              variant=\"outlined\"\n              onClick={toggleLike}\n            />\n          </Stack>\n        </CardContent>\n      </Card>\n\n      {/* Custom Modal */}\n      {showModal && (\n        <div className=\"fixed inset-0 z-50 bg-black/90 backdrop-blur-sm flex items-center justify-center p-4\">\n          <div\n            ref={modalRef}\n            className=\"relative w-full max-w-4xl max-h-screen\"\n          >\n            {/* Zoomed Image */}\n            <div className=\"relative w-full h-full overflow-hidden flex items-center justify-center\">\n              <Image\n                src={src}\n                alt={title}\n                width={1200}\n                height={1200}\n                className=\"w-4/5 h-4/5 object-contain transition-transform duration-300\"\n                style={{ transform: `scale(${zoom})` }}\n              />\n            </div>\n\n            {/* Controls */}\n            <div className=\"absolute top-4 right-4 flex gap-2\">\n              <button\n                onClick={() => handleZoom(\"in\")}\n                className=\"p-2 bg-black/50 rounded-full text-white hover:bg-black/70\"\n                aria-label=\"Zoom in\"\n              >\n                <ZoomIn />\n              </button>\n              <button\n                onClick={() => handleZoom(\"out\")}\n                className=\"p-2 bg-black/50 rounded-full text-white hover:bg-black/70\"\n                aria-label=\"Zoom out\"\n              >\n                <ZoomOut />\n              </button>\n              <button\n                onClick={() => {\n                  setShowModal(false);\n                  setZoom(1);\n                }}\n                className=\"p-2 bg-black/50 rounded-full text-white hover:bg-black/70\"\n                aria-label=\"Close\"\n              >\n                <Close />\n              </button>\n            </div>\n\n            {/* Image Info */}\n            <div className=\"absolute bottom-4 left-4 bg-black/50 text-white px-3 py-2 rounded-lg\">\n              <h3 className=\"font-semibold\">{title}</h3>\n              <div className=\"flex gap-4 mt-1 text-sm\">\n                <span className=\"flex items-center gap-1\">\n                  <Visibility fontSize=\"small\" /> {views}\n                </span>\n                <span className=\"flex items-center gap-1\">\n                  <Favorite fontSize=\"small\" /> {likes + (isLiked ? 1 : 0)}\n                </span>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default ImageCard;\n"],"names":[],"mappings":"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","debugId":null}}]
}